<div class="row">
  <div class="col-md-8">
    <div class="row">
      <div class="col-md-12">
        <app-panel>
          <form role="form" [formGroup]="form">
            <h2>Litígios</h2>
            <p>
              Cadastro/edição de litígios
            </p>
            <div class="row">
              <div class="col-lg-4 col-sm-6 col-xs-12">
                <app-custom-input formControlName="id" [control]="form.get('id')" id="id" label="Id" name="id" readOnly="true">
                </app-custom-input>
              </div>
            </div>

            <div class="row">


              <div class="col-md-6">
                <div class="form-group">
                  <label>Procedimento</label>
                  <select name="procedimento" id="procedimento" formControlName="procedimento" class="form-control">
                    <option value="MesaRedonda">Mesa Redonda</option>
                    <option value="Audiencia">Audiência</option>
                    <option value="ReclamacaoSindicato">Reclamação Sindicato</option>
                  </select>
                </div>
              </div>

            </div>

            <div class="row">

              <div class="col-md-6">
                <div class="form-group" [class.has-error]="hasError(form.get('empresa'))">
                  <label>Empresa</label>
                  <app-autocomplete formControlName="empresa" [urlSource]="urlEmpresaList" placeholder="Empresa">
                    <ng-template let-item>
                      <span class="fa fa-users m-r-sm"></span>
                      <strong>#{{item.id}}</strong> {{item.nome}}
                    </ng-template>
                  </app-autocomplete>
                </div>
              </div>
              <div class="col-md-4">
                <app-custom-input formControlName="data" [control]="form.get('data')" id="data" label="Data" name="data"
                  type="date">
                </app-custom-input>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6">
                <div class="form-group">
                  <label>Referente a</label>
                  <select formControlName="referente" #referente class="form-control" name="referente" id="referent">
                    <option value="MTE">MTE</option>
                    <option value="MPT">MPT</option>
                    <option value="Laboral">Sindicato Laboral</option>
                    <option value="Patronal">Sindicato Patronal</option>
                  </select>
                </div>
              </div>

              <div class="col-md-6" *ngIf="referente.value === 'Laboral'">
                <div class="form-group" [class.has-error]="hasError(form.get('laboral'))">
                  <label class="control-label">Sindicato Laboral</label>
                  <app-autocomplete formControlName="laboral" [linkFunction]="linkLaboral" [urlSource]="urlLaboralList" placeholder="Sindicato Laboral">
                    <ng-template let-item>
                      <span class="fa fa-building-o m-r-sm"></span>
                      <strong>#{{item.id}}</strong> {{item.nome}}
                    </ng-template>
                  </app-autocomplete>
                </div>
              </div>

              <div class="col-md-6" *ngIf="referente.value === 'Patronal'">
                <div class="form-group" [class.has-error]="hasError(form.get('patronal'))">
                  <label class="control-label">Sindicato Patronal</label>
                  <app-autocomplete formControlName="patronal" [linkFunction]="linkPatronal" [urlSource]="urlPatronalList" placeholder="Sindicato Patronal">
                    <ng-template let-item>
                      <span class="fa fa-building m-r-sm"></span>
                      <strong>#{{item.id}}</strong> {{item.nome}}
                    </ng-template>
                  </app-autocomplete>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label>Resumo dos Assuntos</label>
                  <textarea class="form-control" formControlName="resumoAssuntos" placeholder="Resumo dos Assuntos"
                    name="assuntos" id="assuntos" rows="3"></textarea>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label>Assuntos</label>
                  <textarea class="form-control" formControlName="assuntos" placeholder="Assuntos" name="assuntos" id="assuntos"
                    rows="7"></textarea>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="form-group">
                  <label>Participantes</label>
                  <textarea class="form-control" formControlName="participantes" placeholder="Participantes" name="participantes"
                    id="participantes" rows="3"></textarea>
                </div>
              </div>
            </div>

            <button class="btn btn-primary m-r-sm" (click)="salvar()" [disabled]="form.invalid">Salvar</button>

          </form>
        </app-panel>
      </div>
    </div>
  </div>
  <div class="col-md-4">
    <app-arquivos *ngIf="litigio" (upload)="upload($event)" (delete)="deleteFile($event)" [arquivos]="arquivos"></app-arquivos>
  </div>
</div>